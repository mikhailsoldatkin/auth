# Database
POSTGRES_DB=auth_db
POSTGRES_USER=auth_user
POSTGRES_PASSWORD=password
MIGRATIONS_DIR=./migrations
DB_HOST=db
DB_HOST_PORT=54321
DB_PORT=5432
PG_DSN="host=localhost port=${DB_HOST_PORT} dbname=${POSTGRES_DB} user=${POSTGRES_USER} password=${POSTGRES_PASSWORD} sslmode=disable"

HOST=0.0.0.0

# GRPC
GRPC_PORT=50051
GRPC_HOST=${HOST}

# HTTP
HTTP_PORT=8080
HTTP_HOST=${HOST}

# Swagger
SWAGGER_PORT=8090
SWAGGER_HOST=${HOST}

# Docker
DOCKER_USERNAME=mikhailsoldatkin

APP_NAME=auth
MIGRATOR_NAME=auth_migrator

# Redis
REDIS_HOST=redis
REDIS_HOST_PORT=6381
REDIS_PORT=6379
REDIS_CONNECTION_TIMEOUT_SEC=5
REDIS_MAX_IDLE=10
REDIS_MAX_ACTIVE=10
REDIS_IDLE_TIMEOUT_SEC=300

# Kafka Ports
KAFKA_HOST_PORT_1=29092
KAFKA_PORT_1=9092

KAFKA_HOST_PORT_2=29093
KAFKA_PORT_2=9093

KAFKA_HOST_PORT_3=29094
KAFKA_PORT_3=9094

# Kafka
KAFKA_BROKERS=kafka1:${KAFKA_HOST_PORT_1},kafka2:${KAFKA_HOST_PORT_2},kafka3:${KAFKA_HOST_PORT_3}
KAFKA_GROUP_ID=user
KAFKA_TOPIC=users

# Kafka UI
KAFKA_UI_PORT=8082
DYNAMIC_CONFIG_ENABLED=true

ZOOKEEPER_CLIENT_PORT=2181
ZOOKEEPER_TICK_TIME=2000
KAFKA_ZOOKEEPER_CONNECT=zookeeper:${ZOOKEEPER_CLIENT_PORT}

# указывает протоколы безопасности для слушателей
KAFKA_LISTENER_SECURITY_PROTOCOL_MAP=PLAINTEXT:PLAINTEXT,PLAINTEXT_HOST:PLAINTEXT

# указывает, какие адреса будут использоваться для общения с Kafka
KAFKA_ADVERTISED_LISTENERS_1=PLAINTEXT://kafka1:${KAFKA_HOST_PORT_1},PLAINTEXT_HOST://localhost:${KAFKA_PORT_1}
KAFKA_ADVERTISED_LISTENERS_2=PLAINTEXT://kafka2:${KAFKA_HOST_PORT_2},PLAINTEXT_HOST://localhost:${KAFKA_PORT_2}
KAFKA_ADVERTISED_LISTENERS_3=PLAINTEXT://kafka3:${KAFKA_HOST_PORT_3},PLAINTEXT_HOST://localhost:${KAFKA_PORT_3}

# фактор репликации топика
KAFKA_OFFSETS_TOPIC_REPLICATION_FACTOR=3
# время задержки перед началом перебалансировки группы
KAFKA_GROUP_INITIAL_REBALANCE_DELAY_MS=0
# минимальное количество реплик, которые должны быть в синхронизации для топика состояния транзакции
KAFKA_TRANSACTION_STATE_LOG_MIN_ISR=2
# фактор репликации топика состояния транзакции
KAFKA_TRANSACTION_STATE_LOG_REPLICATION_FACTOR=3

# Kafka healthcheck
HEALTHCHECK_INTERVAL=10s
HEALTHCHECK_TIMEOUT=10s
HEALTHCHECK_RETRIES=3
HEALTHCHECK_START_PERIOD=20s

# Authentication
TOKEN_SECRET_KEY="some string"
REFRESH_TOKEN_EXPIRATION_MIN=1440
ACCESS_TOKEN_EXPIRATION_MIN=60

# Logger
LOG_LEVEL=debug
LOG_FILENAME=logs/app.log
LOG_MAX_SIZE_MB=10
LOG_MAX_BACKUPS=3
LOG_MAX_AGE_DAYS=7

# Prometheus
PROMETHEUS_PORT=2112
PROMETHEUS_HOST=${HOST}

# Rate Limiter
REQUESTS_LIMIT=100